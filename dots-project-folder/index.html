
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://dots-documentation.github.io/dots-project-folder/">
      
      
        <link rel="prev" href="../publishing-workflow/">
      
      
        <link rel="next" href="../cookbook/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.8">
    
    
      
        <title>Dossier de dépôt - DoTS documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.f2e4d321.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../css/custom.css">
    
      <link rel="stylesheet" href="../css/stackoverflow-light.min.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#le-dossier-de-depot" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="DoTS documentation" class="md-header__button md-logo" aria-label="DoTS documentation" data-md-component="logo">
      
  <img src="../assets/dots-logo-retro.drawio.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            DoTS documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Dossier de dépôt
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="DoTS documentation" class="md-nav__button md-logo" aria-label="DoTS documentation" data-md-component="logo">
      
  <img src="../assets/dots-logo-retro.drawio.png" alt="logo">

    </a>
    DoTS documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DoTS
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../publishing-workflow/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Publier un corpus
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Dossier de dépôt
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Dossier de dépôt
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#structure-du-dossier-de-depot" class="md-nav__link">
    <span class="md-ellipsis">
      Structure du dossier de dépôt
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#declarer-la-structure-editoriale-du-projet" class="md-nav__link">
    <span class="md-ellipsis">
      Déclarer la structure éditoriale du projet
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Déclarer la structure éditoriale du projet">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#collections-par-defaut" class="md-nav__link">
    <span class="md-ellipsis">
      Collections par défaut
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#autres-collections" class="md-nav__link">
    <span class="md-ellipsis">
      Autres collections
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#passages" class="md-nav__link">
    <span class="md-ellipsis">
      Passages
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#declarer-les-metadonnees-des-ressources-du-projet" class="md-nav__link">
    <span class="md-ellipsis">
      Déclarer les métadonnées des ressources du projet
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Déclarer les métadonnées des ressources du projet">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#metadonnees-obligatoires" class="md-nav__link">
    <span class="md-ellipsis">
      Métadonnées obligatoires
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Métadonnées obligatoires">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pour-une-collection" class="md-nav__link">
    <span class="md-ellipsis">
      Pour une collection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pour-un-document" class="md-nav__link">
    <span class="md-ellipsis">
      Pour un document
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pour-un-passage" class="md-nav__link">
    <span class="md-ellipsis">
      Pour un passage
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#surcharge-et-metadonnees-optionnelles" class="md-nav__link">
    <span class="md-ellipsis">
      Surcharge et métadonnées optionnelles
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Surcharge et métadonnées optionnelles">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#metadonnees-inscrites-dans-dots_metadata_mappingxml" class="md-nav__link">
    <span class="md-ellipsis">
      Métadonnées inscrites dans dots_metadata_mapping.xml
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metadonnees-deportees-dans-un-tableur-tsv" class="md-nav__link">
    <span class="md-ellipsis">
      Métadonnées déportées dans un tableur TSV
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metadonnees-inscrites-dans-la-source-xmltei" class="md-nav__link">
    <span class="md-ellipsis">
      Métadonnées inscrites dans la source XML/TEI
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#autres-fonctionnalites" class="md-nav__link">
    <span class="md-ellipsis">
      Autres fonctionnalités
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Autres fonctionnalités">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#typage-des-valeurs" class="md-nav__link">
    <span class="md-ellipsis">
      Typage des valeurs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utilisation-de-valeurs-multiples" class="md-nav__link">
    <span class="md-ellipsis">
      Utilisation de valeurs multiples
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#concatenation-de-chaines-de-caracteres" class="md-nav__link">
    <span class="md-ellipsis">
      Concaténation de chaînes de caractères
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../cookbook/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Cookbook
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Cookbook
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cookbook/periodical/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Périodiques
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cookbook/theater/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Théâtre
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DTS API
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#structure-du-dossier-de-depot" class="md-nav__link">
    <span class="md-ellipsis">
      Structure du dossier de dépôt
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#declarer-la-structure-editoriale-du-projet" class="md-nav__link">
    <span class="md-ellipsis">
      Déclarer la structure éditoriale du projet
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Déclarer la structure éditoriale du projet">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#collections-par-defaut" class="md-nav__link">
    <span class="md-ellipsis">
      Collections par défaut
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#autres-collections" class="md-nav__link">
    <span class="md-ellipsis">
      Autres collections
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#passages" class="md-nav__link">
    <span class="md-ellipsis">
      Passages
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#declarer-les-metadonnees-des-ressources-du-projet" class="md-nav__link">
    <span class="md-ellipsis">
      Déclarer les métadonnées des ressources du projet
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Déclarer les métadonnées des ressources du projet">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#metadonnees-obligatoires" class="md-nav__link">
    <span class="md-ellipsis">
      Métadonnées obligatoires
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Métadonnées obligatoires">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pour-une-collection" class="md-nav__link">
    <span class="md-ellipsis">
      Pour une collection
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pour-un-document" class="md-nav__link">
    <span class="md-ellipsis">
      Pour un document
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#pour-un-passage" class="md-nav__link">
    <span class="md-ellipsis">
      Pour un passage
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#surcharge-et-metadonnees-optionnelles" class="md-nav__link">
    <span class="md-ellipsis">
      Surcharge et métadonnées optionnelles
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Surcharge et métadonnées optionnelles">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#metadonnees-inscrites-dans-dots_metadata_mappingxml" class="md-nav__link">
    <span class="md-ellipsis">
      Métadonnées inscrites dans dots_metadata_mapping.xml
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metadonnees-deportees-dans-un-tableur-tsv" class="md-nav__link">
    <span class="md-ellipsis">
      Métadonnées déportées dans un tableur TSV
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#metadonnees-inscrites-dans-la-source-xmltei" class="md-nav__link">
    <span class="md-ellipsis">
      Métadonnées inscrites dans la source XML/TEI
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#autres-fonctionnalites" class="md-nav__link">
    <span class="md-ellipsis">
      Autres fonctionnalités
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Autres fonctionnalités">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#typage-des-valeurs" class="md-nav__link">
    <span class="md-ellipsis">
      Typage des valeurs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utilisation-de-valeurs-multiples" class="md-nav__link">
    <span class="md-ellipsis">
      Utilisation de valeurs multiples
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#concatenation-de-chaines-de-caracteres" class="md-nav__link">
    <span class="md-ellipsis">
      Concaténation de chaînes de caractères
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="le-dossier-de-depot">Le dossier de dépôt</h1>
<p>Le dossier de dépôt est le dossier chargé en base grâce aux modules DoTS et contenant les sources XML/TEI publiées.</p>
<p>Pour tirer avantage de l’ensemble des outils de la suite DoTS, votre dossier de dépôt doit se conformer aux recommandations détaillées dans ce document.</p>
<p>Ce document détaille en particulier les règles de structuration de ce dossier de dépôt ainsi que les méthodes disponibles pour déclarer les métadonnées des ressources publiées (collections, documents et fragments).</p>
<p>Des <a href="../cookbook/">cookbooks</a> illustrent la mise en œuvre de ces recommandations, pour différents types de publication, genres littéraires et choix documentaires.</p>
<h2 id="structure-du-dossier-de-depot">Structure du dossier de dépôt</h2>
<details class="info" open="open">
<summary>Modèle</summary>
<div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>nom_projet/                         # Racine du dossier de dépôt
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>    data/                           # OBLIGATOIRE. Fichiers TEI en dossiers de collection
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>        collection_1/               # Collection 1
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>            file_1.xml              # file_1 appartient par défaut à la collection 1
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>            file_2.xml              # idem
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>        collection_2/               # Collection 2
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>            file_100.xml            # file_100 appartient par défaut à la collection 2
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>            file_101.xml            # idem
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>    metadata/                       # OPTIONNEL. Métadonnées des collections et des documents
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>        dots_metadata_mapping.xml   # Déclaration du chemin des métadonnées
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>        metadata_1.tsv              # Un fichier de métadonnées
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>        metadata_2.tsv              # idem
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>    README.md                       # OPTIONNEL. Documentation (plan de nommage, etc.)
</span></code></pre></div>
</details>
<ul>
<li>
<p><code>nom_projet/</code>: racine du dossier de dépôt. Son nom est libre. Au chargement en base, vous pourrez spécifier le nom de la base de données BaseX, ainsi que l’identifiant DTS attribué à la collection racine. Vous pourrez aussi lui attribuer un titre.</p>
</li>
<li>
<p><code>data/</code>: les documents XML/TEI. Ce dossier est <strong>obligatoire</strong>. Il contient les sources XML/TEI de votre projet organisées selon la hiérarchie de votre choix. Cette hiérarchie représente les collections <strong>par défaut</strong> de votre projet. Par exemple, ici, les documents <code>file_1.xml</code> et <code>file_2.xml</code> appartiennent à la collection <code>collection_1</code>.</p>
</li>
<li>
<p><code>metadata/</code>: les métadonnées. Ce dossier est <strong>optionnel</strong>. Si présent, il doit contenir <em>a minima</em> le document XML <code>dots_metadata_mapping.xml</code> qui permet de déclarer l’accès aux métadonnées des collections et/ou des documents. </p>
</li>
<li>
<p><code>README.md</code>. Ce fichier est optionnel. Il permet de documenter le dossier de dépôt.</p>
</li>
</ul>
<h2 id="declarer-la-structure-editoriale-du-projet">Déclarer la structure éditoriale du projet</h2>
<h3 id="collections-par-defaut">Collections par défaut</h3>
<p>La structuration du dossier <code>data/</code> représente la structure éditoriale du projet.</p>
<p>Vous pouvez structurer vos documents en collections et sous-collections hiérarchiques (ou tous les déposer "à plat" en racine du dossier).</p>
<details class="example">
<summary>Le projet contient une unique collection racine</summary>
<div class="language-text highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>moliere_project/
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>    data/
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>        avare.xml
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>        scapin.xml
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>        tartuffe.xml
</span></code></pre></div>
</details>
<details class="example">
<summary>Le projet contient des sous-collections</summary>
<div class="language-text highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>theater_project/
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>    data/
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>        corneille/
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>            cid.xml
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>            horace.xml
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>        moliere/
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>            avare.xml
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>            scapin.xml
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a>            tartuffe.xml
</span></code></pre></div>
</details>
<details class="example">
<summary>Le projet contient des sous-sous-collections, etc.</summary>
<div class="language-text highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>theater_project/
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>    data/
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>        corneille/
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>            cid.xml
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>            horace.xml
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>        moliere/
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>            ballet/
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>                psyche.xml
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a>            comedy/
</span><span id="__span-3-10"><a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a>                avare.xml
</span><span id="__span-3-11"><a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a>                scapin.xml
</span><span id="__span-3-12"><a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a>                tartuffe.xml
</span></code></pre></div>
</details>
<!--
#### Id et titre des collections

**Le nom du dossier de collection est retenu comme identifiant de la collection.**  
Il est donc recommandé de ne pas utiliser d’espace ou de diacritique pour le nommage de ces dossiers. Un plan de nommage de ces dossiers de collection peut utilement documenter un dossier de dépôt dans le `README.md`.

Par défaut, le nom des dossiers de collection sert aussi de titre (`dc:title`). Il est recommandé de déclarer dans un fichier TSV le titre des collections (ainsi que toutes les métadonnées utiles à leur description).


#### Id et titre des documents

Pour un document, l’identifiant retenu par ordre de priorité est :

1. la valeur de l’attribut `@xml:id` de la racine `TEI` du fichier si elle est renseignée ;
1. le nom du fichier (sans l’extension `.xml`).


Pour un document, le titre (`dc:title`) retenu par ordre de priorité est :

1. la valeur renseignée dans `dots_metadata_mapping.xml` (optionnel) ;
1. la valeur renseignée dans le `teiHeader`, par défaut `titleStmt/title` (optionnel).
 -->

<h3 id="autres-collections">Autres collections</h3>
<p>Avec DoTS, un même document peut-être assigné à différentes collections.</p>
<p>La description de ces nouvelles collections – avec la liste de leurs documents – doit être structurée dans un TSV conforme au modèle suivant.</p>
<table>
<thead>
<tr>
<th></th>
<th>dbName</th>
<th>collectionId</th>
<th>dc:title</th>
<th>parentId</th>
<th>documentIds</th>
<th>dc:description</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Description</strong></td>
<td>nom de la db du projet</td>
<td>id de la collection</td>
<td><code>dc:title</code></td>
<td>id de la collection parente</td>
<td>liste des ids des documents</td>
<td><code>dc:description</code></td>
</tr>
<tr>
<td><strong>Example</strong></td>
<td>theater</td>
<td>comedy</td>
<td>Les comédies classiques</td>
<td>theatre-genre</td>
<td>avare|illusion-comique|plaideurs</td>
<td>Les comédies de Corneille, Molière et Racine</td>
</tr>
</tbody>
</table>
<h3 id="passages">Passages</h3>
<p>Le endpoint <code>Navigation</code> permet de lister les passages référencés d’un document. Le endpoint <code>Document</code> permet d’en afficher le contenu.</p>
<p>Ce découpage éditorial optionnel d’un document est déclaré dans son <code>teiHeader</code> grâce à l’élément <a href="https://www.tei-c.org/release/doc/tei-p5-doc/en/html/ref-citeStructure.html" target="_blank"><code>citeStructure</code></a>.</p>
<p>Cette déclaration est <strong>optionnelle</strong>.</p>
<details class="example" open="open">
<summary>Example de <code>tei:citeStructure</code> pour une pièce de théâtre</summary>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="nt">&lt;citeStructure</span><span class="w"> </span><span class="na">match=</span><span class="s">&quot;//div[@type=&#39;act&#39;]&quot;</span><span class="w"> </span><span class="na">use=</span><span class="s">&quot;@xml:id&quot;</span><span class="w"> </span><span class="na">unit=</span><span class="s">&quot;act&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="w">    </span><span class="nt">&lt;citeData</span><span class="w"> </span><span class="na">use=</span><span class="s">&quot;head&quot;</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;dc:title&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="w">    </span><span class="nt">&lt;citeStructure</span><span class="w"> </span><span class="na">match=</span><span class="s">&quot;div[@type=&#39;scene&#39;]&quot;</span><span class="w"> </span><span class="na">use=</span><span class="s">&quot;@xml:id&quot;</span><span class="w"> </span><span class="na">unit=</span><span class="s">&quot;scene&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="w">        </span><span class="nt">&lt;citeData</span><span class="w"> </span><span class="na">use=</span><span class="s">&quot;head&quot;</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;dc:title&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="w">        </span><span class="nt">&lt;citeStructure</span><span class="w"> </span><span class="na">match=</span><span class="s">&quot;sp&quot;</span><span class="w"> </span><span class="na">use=</span><span class="s">&quot;position()&quot;</span><span class="w"> </span><span class="na">unit=</span><span class="s">&quot;speaker&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="w">            </span><span class="nt">&lt;citeData</span><span class="w"> </span><span class="na">use=</span><span class="s">&quot;substring-after(@who, &#39;#&#39;)&quot;</span><span class="w"> </span><span class="na">property=</span><span class="s">&quot;dc:title&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="w">            </span><span class="nt">&lt;citeStructure</span><span class="w"> </span><span class="na">match=</span><span class="s">&quot;l&quot;</span><span class="w"> </span><span class="na">use=</span><span class="s">&quot;@xml:id&quot;</span><span class="w"> </span><span class="na">unit=</span><span class="s">&quot;verse&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="w">        </span><span class="nt">&lt;/citeStructure&gt;</span>
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="w">    </span><span class="nt">&lt;/citeStructure&gt;</span>
</span><span id="__span-4-10"><a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a><span class="nt">&lt;/citeStructure&gt;</span>
</span></code></pre></div>
</details>
<h2 id="declarer-les-metadonnees-des-ressources-du-projet">Déclarer les métadonnées des ressources du projet</h2>
<h3 id="metadonnees-obligatoires">Métadonnées obligatoires</h3>
<p><strong>Pour une collection et un document</strong>, DTS impose la déclaration d’un identifiant et d’un titre. Cependant, pour publier un projet, DoTS n’a besoin d’aucune métadonnée et attribue automatiquement aux ressources un identifiant et un titre défini selon l'ordre de priorité suivant :</p>
<h4 id="pour-une-collection">Pour une collection</h4>
<p>Identifiant :</p>
<ol>
<li>nom du dossier de collection dans <code>data/</code></li>
</ol>
<details class="warning" open="open">
<summary>Warning</summary>
<p>L'utilisation d’espace ou de diacritique pour le nommage de ces dossiers n'est donc pas autorisé. Un plan de nommage de ces dossiers de collection peut utilement documenter un dossier de dépôt dans le <code>README.md</code>.</p>
</details>
<p>Titre (<code>dc:title</code>) :</p>
<ol>
<li>valeur référencée dans <code>metadata/dots_metadata_mapping.xml</code> (voir <a href="#surcharge-et-metadonnees-optionnelles">surcharge</a>)</li>
<li>nom du dossier de collection dans <code>data/</code></li>
</ol>
<details class="note" open="open">
<summary>Note</summary>
<p>Il est recommandé de déclarer dans un fichier TSV le titre des collections (ainsi que toutes les métadonnées utiles à leur description).</p>
</details>
<h4 id="pour-un-document">Pour un document</h4>
<p>Identifiant :</p>
<ol>
<li>valeur de l’attribut <code>/TEI/@xml:id</code> du fichier</li>
<li>nom du fichier (sans l’extension <code>.xml</code>)</li>
</ol>
<p>Titre (<code>dc:title</code>) :</p>
<ol>
<li>valeur référencée dans <code>metadata/dots_metadata_mapping.xml</code> (voir <a href="#surcharge-et-metadonnees-optionnelles">surcharge</a>)</li>
<li>valeur de <code>/TEI/teiHeader/fileDesc/titleStmt/title[@type='main']</code></li>
<li>valeur de <code>/TEI/teiHeader/fileDesc/titleStmt/title[1]</code></li>
</ol>
<h4 id="pour-un-passage">Pour un passage</h4>
<p>DTS impose la déclaration d’un identifiant. DoTS attribue automatiquement aux passages un identifiant selon la déclaration faite par l’éditeur dans l’élément <code>citeStructure</code>. L’identifiant est copié ou calculé selon la valeur de l’attribut <code>citeStructure/@use</code>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Pour l’attribution des identifiants de passage déclarés en valeur de <code>citeStructure/@use</code>, DoTS prends en charge la <strong>seule</strong> valeur <code>@xml:id</code>, qui garantit l’unicité de cette identification des passages dans le document. DoTS ne traite pas les autres valeurs possibles de <code>@use</code>, telles que <code>position()</code> ou <code>@n</code>, et attribue automatiquement un identifiant aux passages selon leur ordre d’inscription dans le registre DoTS.</p>
</div>
<h3 id="surcharge-et-metadonnees-optionnelles">Surcharge et métadonnées optionnelles</h3>
<p>Pour les collections et les documents, le fichier <code>metadata/dots_metadata_mapping.xml</code> permet :</p>
<ul>
<li>de surcharger le titre (<code>dc:title</code>) attribué par défaut par DoTS</li>
</ul>
<p>Pour les collections, les documents et les passages, le fichier <code>metadata/dots_metadata_mapping.xml</code> permet :</p>
<ul>
<li>d’appeler optionnellement toutes les métadonnées souhaitées. Et ces métadonnées peuvent être inscrites directement dans le fichier <code>metadata/dots_metadata_mapping.xml</code> et/ou dans le <code>teiHeader</code> des documents et/ou déportées dans un tableur.</li>
</ul>
<div class="admonition example">
<p class="admonition-title">dots_metadata_mapping.xml</p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="nt">&lt;metadataMap</span><span class="w"> </span><span class="na">xmlns=</span><span class="s">&quot;https://github.com/chartes/dots/&quot;</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="w">  </span><span class="na">xmlns:dc=</span><span class="s">&quot;http://purl.org/dc/elements/1.1/&quot;</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="w">  </span><span class="na">xmlns:dct=</span><span class="s">&quot;http://purl.org/dc/terms/&quot;</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="w">  </span><span class="na">xmlns:html=</span><span class="s">&quot;http://www.w3.org/1999/xhtml&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="w">  </span><span class="nt">&lt;mapping&gt;</span>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="w">    </span><span class="nt">&lt;dc:title</span><span class="w">  </span><span class="na">scope=</span><span class="s">&quot;collection&quot;</span><span class="w"> </span><span class="na">format=</span><span class="s">&quot;tsv&quot;</span><span class="w"> </span><span class="na">source=</span><span class="s">&quot;./default_collections_titles.tsv&quot;</span><span class="w"> </span><span class="na">resourceId=</span><span class="s">&quot;id&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;title&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="w">    </span><span class="nt">&lt;dct:license</span><span class="w"> </span><span class="na">scope=</span><span class="s">&quot;document&quot;</span><span class="w"> </span><span class="na">resourceId=</span><span class="s">&quot;all&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;.&quot;</span><span class="nt">&gt;</span>https://creativecommons.org/licenses/by-nc-sa/4.0/<span class="nt">&lt;/dct:license&gt;</span>
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a><span class="w">    </span><span class="nt">&lt;dc:title</span><span class="w"> </span><span class="na">scope=</span><span class="s">&quot;document&quot;</span><span class="w"> </span><span class="na">xpath=</span><span class="s">&quot;//titleStmt/title[@type = &#39;main&#39; or position() = 1]&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-5-10"><a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a><span class="w">    </span><span class="nt">&lt;html:h1</span><span class="w"> </span><span class="na">scope=</span><span class="s">&quot;document&quot;</span><span class="w"> </span><span class="na">format=</span><span class="s">&quot;tsv&quot;</span><span class="w"> </span><span class="na">source=</span><span class="s">&quot;./documents_metadata.tsv&quot;</span><span class="w"> </span><span class="na">resourceId=</span><span class="s">&quot;id&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;title_rich&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-5-11"><a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a><span class="w">    </span><span class="nt">&lt;dc:date</span><span class="w">  </span><span class="na">scope=</span><span class="s">&quot;document&quot;</span><span class="w"> </span><span class="na">format=</span><span class="s">&quot;tsv&quot;</span><span class="w"> </span><span class="na">source=</span><span class="s">&quot;./documents_metadata.tsv&quot;</span><span class="w"> </span><span class="na">resourceId=</span><span class="s">&quot;id&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;promotion_year&quot;</span><span class="w"> </span><span class="na">type=</span><span class="s">&quot;number&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-5-12"><a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a><span class="w">    </span><span class="nt">&lt;dc:creator</span><span class="w"> </span><span class="na">scope=</span><span class="s">&quot;document&quot;</span><span class="w"> </span><span class="na">format=</span><span class="s">&quot;tsv&quot;</span><span class="w"> </span><span class="na">source=</span><span class="s">&quot;./documents_metadata.tsv&quot;</span><span class="w"> </span><span class="na">resourceId=</span><span class="s">&quot;id&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;author_fullname_label&quot;</span><span class="nt">&gt;&lt;/dc:creator&gt;</span>
</span><span id="__span-5-13"><a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a><span class="w">    </span><span class="nt">&lt;dct:creator</span><span class="w"> </span><span class="na">scope=</span><span class="s">&quot;document&quot;</span><span class="w"> </span><span class="na">format=</span><span class="s">&quot;tsv&quot;</span><span class="w"> </span><span class="na">source=</span><span class="s">&quot;./documents_metadata.tsv&quot;</span><span class="w"> </span><span class="na">resourceId=</span><span class="s">&quot;id&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;author_idref_ppn&quot;</span><span class="w"> </span><span class="na">prefix=</span><span class="s">&quot;https://www.idref.fr/&quot;</span><span class="w"> </span><span class="na">key=</span><span class="s">&quot;@id&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-5-14"><a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a><span class="w">    </span><span class="nt">&lt;dct:extent</span><span class="w"> </span><span class="na">scope=</span><span class="s">&quot;document&quot;</span><span class="w"> </span><span class="na">format=</span><span class="s">&quot;tsv&quot;</span><span class="w"> </span><span class="na">source=</span><span class="s">&quot;./documents_metadata.tsv&quot;</span><span class="w"> </span><span class="na">resourceId=</span><span class="s">&quot;id&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;pagination&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-5-15"><a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a><span class="w">  </span><span class="nt">&lt;/mapping&gt;</span>
</span><span id="__span-5-16"><a id="__codelineno-5-16" name="__codelineno-5-16" href="#__codelineno-5-16"></a><span class="nt">&lt;/metadataMap&gt;</span>
</span></code></pre></div>
</div>
<p>Pour déclarer une métadonnée, c'est le nom de l’élément XML avec le préfixe qui permet de qualifier son vocabulaire d’appartenance. La procédure de déclaration varie ensuite selon le lieu où est inscrite la métadonnée.</p>
<p>Ces métadonnées peuvent être inscrites :</p>
<ul>
<li>dans le fichier <code>dots_metadata_mapping.xml</code> pour les valeurs communes à l’ensemble des collections ou à l’ensemble des documents.</li>
<li>dans un fichier TSV (pour les collections et les documents)</li>
<li>dans le fichier XML/TEI (pour les seuls documents)</li>
</ul>
<h4 id="metadonnees-inscrites-dans-dots_metadata_mappingxml">Métadonnées inscrites dans <code>dots_metadata_mapping.xml</code></h4>
<p>Certaines métadonnées, telle qu’une licence, peuvent être partagées par l’ensemble des ressources. Dans ce cas, leur valeur peut être renseignée directement dans <code>dots_metadata_mapping.xml</code>.</p>
<div class="admonition abstract">
<p class="admonition-title">Template</p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="nt">&lt;ns:property</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="w">    </span><span class="na">scope=</span><span class="s">&quot;collection|document&quot;</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="w">    </span><span class="na">resourceId=</span><span class="s">&quot;all&quot;</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="w">    </span><span class="na">value=</span><span class="s">&quot;.&quot;</span><span class="nt">&gt;</span>property<span class="w"> </span>value<span class="nt">&lt;/ns:property&gt;</span>
</span></code></pre></div>
</div>
<div class="admonition example">
<p class="admonition-title">Exemple. Déclaration d’une licence commune à tous les documents</p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="nt">&lt;dct:license</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="w">    </span><span class="na">scope=</span><span class="s">&quot;document&quot;</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="w">    </span><span class="na">resourceId=</span><span class="s">&quot;all&quot;</span><span class="nt">&gt;</span>https://creativecommons.org/licenses/by-nc-sa/4.0/<span class="nt">&lt;/dct:license&gt;</span>
</span></code></pre></div>
</div>
<table>
<thead>
<tr>
<th>attribut</th>
<th>définition</th>
<th>valeur</th>
<th>commentaire</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>@scope</code></td>
<td>type des ressources décrites</td>
<td><code>collection</code> ou <code>document</code> ou <code>fragment</code></td>
<td></td>
</tr>
<tr>
<td><code>resourceId</code></td>
<td>ids des ressources décrites</td>
<td><code>all</code></td>
<td>la métadonnée décrit toutes les ressources d’un type</td>
</tr>
</tbody>
</table>
<!--
**Modèle**
<div class="language-xml highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="nt">&lt;ns:property</span><span class="w"> </span><span class="na">scope=</span><span class="s">&quot;collection|document&quot;</span><span class="w"> </span><span class="na">resourceId=</span><span class="s">&quot;all&quot;</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;.&quot;</span><span class="nt">&gt;</span>property<span class="w"> </span>value<span class="nt">&lt;/ns:property&gt;</span>
</span></code></pre></div>

- `<propriété/>` : le nom de l'élément permet de définir la propriété attendue en réponse de la requête API. Dans l'exemple, la propriété est la licence en dublin core.
- `@scope` : la valeur attendue est *collection* ou *document*, selon la porté de la métadonnée.
- `@resourceID` : la valeur doit être ici *all* pour spécifier que la métadonnée concerne l'ensemble des ressources (collection ou document).
- le contenu de l'élément correspond à la valeur attendue pour la réponse d'API.
-->

<h4 id="metadonnees-deportees-dans-un-tableur-tsv">Métadonnées déportées dans un tableur TSV</h4>
<p>Les métadonnées des documents, des collections et des fragments peuvent être déportées dans un tableur. <code>dots_metadata_mapping.xml</code> permet de les appeler.</p>
<div class="admonition abstract">
<p class="admonition-title">Template</p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="nt">&lt;ns:property</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="w">    </span><span class="na">scope=</span><span class="s">&quot;collection|document|fragment&quot;</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="w">    </span><span class="na">format=</span><span class="s">&quot;tsv&quot;</span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="w">    </span><span class="na">source=</span><span class="s">&quot;./metadata_file.tsv&quot;</span>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a><span class="w">    </span><span class="na">resourceId=</span><span class="s">&quot;resourceId_column-header&quot;</span>
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a><span class="w">    </span><span class="na">value=</span><span class="s">&quot;value_column-header&quot;</span><span class="nt">/&gt;</span>
</span></code></pre></div>
</div>
<div class="admonition example">
<p class="admonition-title">Exemple. Appel des dates de publication (<code>dc:date</code>) des documents</p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="nt">&lt;dc:date</span><span class="w"> </span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="w">    </span><span class="na">scope=</span><span class="s">&quot;document&quot;</span><span class="w"> </span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="w">    </span><span class="na">format=</span><span class="s">&quot;tsv&quot;</span>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="w">    </span><span class="na">source=</span><span class="s">&quot;./documents_metadata.tsv&quot;</span>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="w">    </span><span class="na">resourceId=</span><span class="s">&quot;doc_id&quot;</span><span class="w"> </span>
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="w">    </span><span class="na">value=</span><span class="s">&quot;publication_year&quot;</span><span class="nt">/&gt;</span>
</span></code></pre></div>
</div>
<div class="admonition example">
<p class="admonition-title">Exemple. <code>documents_metadata.tsv</code></p>
<table>
<thead>
<tr>
<th>doc_id</th>
<th>titre</th>
<th>publication_year</th>
</tr>
</thead>
<tbody>
<tr>
<td>ENCPOS_1849_08</td>
<td>Wala et Louis le Débonnaire</td>
<td>1849</td>
</tr>
<tr>
<td>ENCPOS_1971_14</td>
<td>Le bestiaire héraldique au Moyen Âge</td>
<td>1972</td>
</tr>
</tbody>
</table>
</div>
<table>
<thead>
<tr>
<th>attribut</th>
<th>définition</th>
<th>valeur</th>
<th>commentaire</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>@scope</code></td>
<td>type des ressources décrites</td>
<td><code>collection</code> ou <code>document</code> ou <code>fragment</code></td>
<td></td>
</tr>
<tr>
<td><code>@format</code></td>
<td>format du fichier de métadonnées appelé</td>
<td><code>tsv</code></td>
<td></td>
</tr>
<tr>
<td><code>@source</code></td>
<td>chemin vers le fichier de métadonnées</td>
<td><code>path/to/file</code></td>
<td></td>
</tr>
<tr>
<td><code>@resourceId</code></td>
<td>nom de la colonne référençant l’id de la ressource décrite</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>@value</code></td>
<td>nom de la colonne contenant la valeur de la métadonnée</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="metadonnees-inscrites-dans-la-source-xmltei">Métadonnées inscrites dans la source XML/TEI</h4>
<p>Les métadonnées d’un document peuvent être inscrites dans son <code>teiHeader</code>. <code>dots_metadata_mapping.xml</code> permet de les appeler en spécifiant un chemin XPath.</p>
<div class="admonition abstract">
<p class="admonition-title">Template</p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="nt">&lt;ns:property</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="w">    </span><span class="na">scope=</span><span class="s">&quot;document&quot;</span><span class="w"> </span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="w">    </span><span class="na">xpath=</span><span class="s">&quot;xpath/to/metadata&quot;</span><span class="nt">/&gt;</span>
</span></code></pre></div>
</div>
<div class="admonition example">
<p class="admonition-title">Exemple. Appel de l’éditeur (<code>dc:publisher</code>) des documents</p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="nt">&lt;dc:publisher</span><span class="w"> </span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="w">    </span><span class="na">scope=</span><span class="s">&quot;document&quot;</span><span class="w"> </span>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="w">    </span><span class="na">xpath=</span><span class="s">&quot;/TEI/teiHeader/fileDesc/publicationStmt/publisher&quot;</span><span class="nt">/&gt;</span>
</span></code></pre></div>
</div>
<table>
<thead>
<tr>
<th>attribut</th>
<th>définition</th>
<th>valeur</th>
<th>commentaire</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>@scope</code></td>
<td>type des ressources décrites</td>
<td><code>document</code></td>
<td></td>
</tr>
<tr>
<td><code>@xpath</code></td>
<td>chemin de la métadonnée</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="autres-fonctionnalites">Autres fonctionnalités</h4>
<p>D'autres fonctionnalités sont par ailleurs disponibles.</p>
<h5 id="typage-des-valeurs">Typage des valeurs</h5>
<p>Par défaut, toutes les valeurs des métadonnées sont considérées comme des chaînes de caractère.</p>
<p>Mais il est toujours possible de préciser le type de valeur attendue pour la métadonnée avec l'attribut <code>@type</code> : <em>number</em>, <em>boolean</em> ou <em>null</em> selon les besoins. </p>
<table>
<thead>
<tr>
<th>attribut</th>
<th>définition</th>
<th>valeur</th>
<th>commentaire</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>@type</code></td>
<td>type de données</td>
<td><code>number</code>, <code>boolean</code> ou <code>null</code></td>
<td></td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Si la valeur ne correspond pas au type demandé, la réponse d'API affiche une erreur.</p>
</div>
<h5 id="utilisation-de-valeurs-multiples">Utilisation de valeurs multiples</h5>
<p>L'utilisateur peut vouloir plusieurs valeurs pour une même métadonnée. Par exemple, utiliser plusieurs fois la métadonnée <code>dc:creator</code> afin de renvoyer à plusieurs référentiels.</p>
<p>Dans ce cas de figure, il est <strong>obligatoire</strong> d'ajouter un attribut supplémentaire <code>@key</code> qui permet de créer une <strong>liste</strong> de valeurs dans la réponse d'API en JSON. Chaque élément de cette liste est précédée d'une <em>clef</em> dont la valeur est définie dans cet attribut <code>@key</code>.</p>
<h5 id="concatenation-de-chaines-de-caracteres">Concaténation de chaînes de caractères</h5>
<p>Il est toujours possible de concaténer une métadonnée avec un préfix et/ou un suffixe, en utilisant simplement les attributs <code>@prefix</code> et/ou <code>@suffix</code>.</p>
<table>
<thead>
<tr>
<th>attribut</th>
<th>définition</th>
<th>valeur</th>
<th>commentaire</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>@prefix</code></td>
<td>prefix à concaténer avec la métadonnée</td>
<td></td>
<td></td>
</tr>
<tr>
<td><code>@suffix</code></td>
<td>suffix à concaténer avec la métadonnée</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        
<footer class="md-footer">
    <div class="md-footer-meta md-typeset">
        <div class="md-footer-meta__inner md-grid">
            <div class="footer-container">
                <div class="logo-footer-container">
                    <a href="https://www.chartes.psl.eu/" target="blank"><img src="../assets/logo-chartes.png"
                                                                              class="footer-logo-enc"/></a>
                    <a href="https://projet.biblissima.fr/fr" target="blank"><img src="../assets/biblissima-logo.png"
                                                                                  class="footer-logo-biblissima"/></a>
                </div>
                <div class="md-footer-copyright">
                    
                    <div class="md-footer-copyright__highlight">
                        © 2023-2024 DoTS
                    </div>
                    
                    <span class="label-mkdocs-container">Made with <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank">Material for MkDocs</a></span>
                </div>
            </div>
        </div>
    </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.indexes", "content.code.annotate"], "search": "../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.8fd75fb4.min.js"></script>
      
        <script src="../js/custom.js"></script>
      
        <script src="../js/highlight.min.js"></script>
      
    
  </body>
</html>